<div class="form-page-layout py-5">
  <div class="container container-narrow">
    <div class="f-form-card shadow-lg mx-auto" style="max-width: 700px;">
      <div class="card-body p-4 p-md-5">

        <h2 class="text-white fw-bold text-center mb-5 letter-spacing-1 text-uppercase">
          Ajustes de Perfil
        </h2>

        <%= simple_form_for @user, url: user_path(@user), method: :patch, html: { multipart: true } do |f| %>

          <div class="text-center mb-5">
            <div class="position-relative d-inline-block">
              <% if @user.photo.attached? %>
                <%= image_tag @user.photo.variant(resize_to_fill: [120, 120]), class: "rounded-circle border border-warning shadow-lg" %>
              <% else %>
                <div class="rounded-circle default-avatar mx-auto d-flex align-items-center justify-content-center" style="width: 120px; height: 120px; font-size: 3rem;">
                  <%= @user.first_name&.first %>
                </div>
              <% end %>
            </div>
            <div class="mt-3">
              <%= f.input :photo, as: :file, label: false, input_html: { class: 'form-control form-control-sm bg-dark text-secondary border-secondary' } %>
            </div>
          </div>

          <div class="mb-4">
            <%= f.label :first_name, "Nombre", class: "form-label-custom" %>
            <%= f.text_field :first_name, class: "input-custom" %>
          </div>

          <div class="mb-4">
            <%= f.label :email, "Email Profesional", class: "form-label-custom" %>
            <%= f.email_field :email, class: "input-custom" %>
          </div>

          <div class="d-grid gap-3 mt-5">
            <%= f.submit "GUARDAR PERFIL", class: "btn btn-warning btn-lg rounded-pill" %>
            <%= link_to "CANCELAR", profile_path(@user), class: "btn btn-outline-secondary btn-sm border-0 opacity-50 fw-bold" %>
          </div>
        <% end %>

      </div>
    </div>
  </div>
</div
