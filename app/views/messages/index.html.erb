<div class="container my-5">
  <div class="row justify-content-center">
    <div class="col-12 col-md-10 col-lg-12">

      <div class="d-flex justify-content-between align-items-center mb-4">
        <div class="d-flex flex-column justify-content-center align-items-center">
          <h2 class="fw-bold">ğŸ’Œ Mis Mensajes</h2>
          <div class="d-flex align-items-center justify-content-center gap-2">

            <%= link_to messages_path(tab: 'received'),
                class: "#{'active' if @active_tab == 'received'} btn btn-outline-secondary btn-sm text-center p-1 mt-2 border" do %>
              ğŸ“¥ <span class="d-md-inline">Recibidos</span>
            <% end %>

            <%= link_to messages_path(tab: 'sent'),
                class: "#{'active' if @active_tab == 'sent'} btn btn-outline-secondary btn-sm text-center p-1 mt-2  border" do %>
              ğŸ“¤ <span class="d-md-inline">Enviados</span>
            <% end %>
          </div>
        </div>

        <%= link_to user_path(current_user), class: "btn btn-outline-secondary btn-sm " do %>
          <i class="bi bi-arrow-left"></i> <span class="d-none d-sm-inline">Volver a mi perfil</span><span class="d-inline d-sm-none">Volver</span>
        <% end %>
      </div>

    </div>


    <div class="card  rounded-3">
      <div class="card-body p-1">
        <div class="table-responsive">

          <% if @active_tab == 'received' %>
            <div class="p-3 bg-light border-bottom ">
              <small class="text-uppercase fw-bold text-muted">Bandeja de Entrada</small>
            </div>
            <%= render "messages/list", messages: @received_messages, type: :received %>
          <% else %>
            <div class="p-3 bg-light border-bottom">
              <small class="text-uppercase fw-bold text-muted">Mensajes Enviados</small>
            </div>
            <%= render "messages/list", messages: @sent_messages, type: :sent %>
          <% end %>

        </div>
      </div>
    </div>

  </div>
</div>
