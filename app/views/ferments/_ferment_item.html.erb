<div id="ferment_<%= ferment.id %>" class="ferment-item d-flex justify-content-between align-items-center p-3 rounded-4 mb-3 border border-secondary border-opacity-10 shadow-sm">

  <%= link_to ferment_path(ferment), class: "d-flex align-items-center text-decoration-none flex-grow-1" do %>
    <div class="position-relative">
      <% if ferment.photos.attached? %>
        <%= image_tag ferment.photos.first.variant(resize_to_limit: [100, 100]), class: "ferment-card-img rounded-3 me-3",loading: "lazy" %>
      <% else %>
        <div class="placeholder-img me-3 rounded-3 bg-secondary d-flex align-items-center justify-content-center" style="width: 70px; height: 70px;">
           <i class="bi bi-droplet text-dark"></i>
        </div>
      <% end %>
    </div>

    <div>
      <h5 class="ferment-name mb-0 text-white fw-bold"><%= ferment.name %></h5>
      <p class="text-secondary small mb-0">
        <i class="bi bi-calendar3 me-1"></i><%= ferment.formatted_start_date %>
      </p>
    </div>
  <% end %>

  <% if user_signed_in? && ferment.user == current_user %>
    <div class="d-flex gap-2 ms-2">
      <%= link_to edit_user_ferment_path(ferment.user, ferment), class: "btn btn-sm btn-outline-light opacity-75" do %>
        <i class="bi bi-pencil"></i>
      <% end %>
      <%= link_to user_ferment_path(ferment.user, ferment),
                  data: { turbo_method: :delete, turbo_confirm: "¿Estás seguro?" },
                  class: "btn btn-sm btn-outline-danger" do %>
        <i class="bi bi-trash"></i>
      <% end %>
    </div>
  <% end %>
</div>
