<div class="container my-5">
  <div class="row justify-content-center">
    <div class="col-12 col-md-10 col-lg-8 col-xl-6">

      <div class="card surface-card shadow-sm">
        <div class="card-body">

          <%= form_with(model: @ferment, local: true) do |form| %>

            <!-- T√≠tulo -->
            <h2 class="text-center mb-4 fw-semibold">
              Editar fermento
            </h2>

            <!-- ERRORES -->
            <% if @ferment.errors.any? %>
              <div class="alert alert-danger">
                <p class="fw-semibold mb-2">
                  No se pudo guardar el fermento:
                </p>
                <ul class="mb-0">
                  <% @ferment.errors.full_messages.each do |msg| %>
                    <li><%= msg %></li>
                  <% end %>
                </ul>
              </div>
            <% end %>

            <!-- ü´ò QU√â ES -->
            <div class="mb-4">
              <p class="text-uppercase text-muted small fw-semibold mb-3">
                ¬øQu√© est√°s fermentando?
              </p>

              <div class="mb-3">
                <%= form.label :name, "Nombre del fermento", class: "form-label" %>
                <%= form.text_field :name,
                      class: "form-control form-control-lg",
                      placeholder: "Ej: Kimchi cl√°sico" %>
                <div class="form-text">
                  Un nombre claro para reconocerlo f√°cilmente.
                </div>
              </div>

              <div class="mb-3">
                <%= form.label :ingredients, "Ingredientes", class: "form-label" %>
                <%= form.text_area :ingredients,
                      rows: 3,
                      class: "form-control",
                      placeholder: "Ej: repollo, sal, ajo, jengibre" %>
                <div class="form-text">
                  Separalos por comas.
                </div>
              </div>
            </div>

            <!-- üß™ C√ìMO SE HACE -->
            <div class="mb-4">
              <p class="text-uppercase text-muted small fw-semibold mb-3">
                ¬øC√≥mo se prepara?
              </p>

              <div class="mb-3">
                <%= form.label :instructions, "Pasos de preparaci√≥n", class: "form-label" %>
                <%= form.text_area :instructions,
                      rows: 4,
                      class: "form-control",
                      placeholder: "Ej: cortar, salar, fermentar en frasco" %>
                <div class="form-text">
                  Pod√©s actualizar o corregir los pasos.
                </div>
              </div>
            </div>

            <!-- ‚è±Ô∏è TIEMPOS -->
            <div class="mb-4">
              <p class="text-uppercase text-muted small fw-semibold mb-3">
                Tiempos y seguimiento
              </p>

              <div class="mb-3">
                <%= form.label :fermentation_time, "Duraci√≥n estimada", class: "form-label" %>
                <%= form.text_field :fermentation_time,
                      class: "form-control",
                      placeholder: "Ej: 7 d√≠as" %>
              </div>

              <div class="mb-3">
                <%= form.label :start_date, "Fecha de inicio", class: "form-label" %>
                <%= form.text_field :start_date,
                      class: "form-control",
                      data: { controller: "datepicker" } %>
              </div>

              <div class="mb-3">
                <%= form.label :revisar_fermentos, "Cada cu√°ntos d√≠as revisarlo", class: "form-label" %>
                <%= form.number_field :revisar_fermentos,
                      min: 1,
                      class: "form-control",
                      placeholder: "Ej: 3" %>
                <div class="form-text">
                  Ajust√° el intervalo de revisi√≥n si cambi√≥ el proceso.
                </div>
              </div>
            </div>

            <!-- üì∏ FOTOS -->
            <div class="mb-4">
              <p class="text-uppercase text-muted small fw-semibold mb-3">
                Agregar m√°s fotos (opcional)
              </p>

              <%= form.file_field :photos,
                    multiple: true,
                    class: "form-control" %>

              <div class="form-text">
                Pod√©s sumar fotos nuevas del estado actual del fermento.
              </div>
            </div>

            <!-- ACCIONES -->
            <div class="d-grid gap-2 mt-4">
              <%= form.submit "Guardar cambios", class: "btn btn-primary btn-lg" %>
              <%= link_to "Cancelar", ferment_path(@ferment),
                    class: "btn btn-outline-secondary btn-lg" %>
            </div>

          <% end %>

        </div>
      </div>

    </div>
  </div>
</div>
