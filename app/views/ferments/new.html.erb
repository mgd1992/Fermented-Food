<div class="auth-page">
  <div class="auth-card fade-in">

    <%= link_to '/', class: "brand" do %>
      Cool Beans
    <% end %>

    <h2 class="auth-title text-center">Nuevo fermento</h2>
    <p class="auth-subtitle text-center">RegistrÃ¡ tu fermento y seguÃ­ el proceso ğŸ§‚</p>

    <%= form_with(model: @ferment, local: true, html: { class: "auth-form" }) do |form| %>

      <% if @ferment.errors.any? %>
        <div class="alert alert-danger">
          <p class="fw-semibold mb-2">No se pudo crear el fermento:</p>
          <ul class="mb-0">
            <% @ferment.errors.full_messages.each do |msg| %>
              <li><%= msg %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <div class="auth-inputs">

        <!-- ğŸ«˜ Nombre del fermento -->
        <div class="mb-3">
          <p class="form-section-label">ğŸ«˜ QuÃ© estÃ¡s fermentando?</p>
          <%= form.text_field :name,
                placeholder: "Ej: Kimchi clÃ¡sico, Kombucha de jengibre",
                class: "form-control mb-3" %>

          <%= form.text_area :description,
                rows: 2,
                placeholder: "DescripciÃ³n breve (opcional)",
                class: "form-control mb-3" %>

          <%= form.text_area :ingredients,
                rows: 3,
                placeholder: "Ingredientes: repollo, sal, ajo, jengibre",
                class: "form-control mb-3" %>
        </div>

        <!-- ğŸ§ª CÃ³mo se prepara -->
        <div class="mb-3">
          <p class="form-section-label">ğŸ§ª CÃ³mo se hace?</p>
          <%= form.text_area :instructions,
                rows: 4,
                placeholder: "instrucciones: cortar, salar, masajear, fermentar en frasco",
                class: "form-control mb-3" %>
        </div>

        <!-- â±ï¸ Tiempos y seguimiento -->
        <div class="mb-3">
          <p class="form-section-label">â±ï¸ Tiempos y seguimiento</p>
          <%= form.text_field :fermentation_time,
                placeholder: "Ej: 7 dÃ­as, 2 semanas",
                class: "form-control mb-3" %>

          <%= form.text_field :start_date,
                data: { controller: "datepicker" },
                placeholder: "ğŸ“… Fecha de inicio",
                class: "form-control mb-3" %>

          <%= form.number_field :revisar_fermentos,
                min: 1,
                placeholder: "Cada cuÃ¡ntos dÃ­as hay que revisarlo?",
                class: "form-control mb-3" %>
        </div>

        <!-- ğŸ“¸ Fotos -->
        <div class="mb-3">
          <p class="form-section-label">ğŸ“¸ Fotos (opcional)</p>
          <%= form.file_field :photos,
                multiple: true,
                class: "form-control mb-3" %>
        </div>

      </div>

      <!-- Botones -->
      <div class="d-grid gap-2 mt-4">
        <%= form.submit "Crear fermento", class: "auth-button" %>
        <%= link_to "Cancelar", ferments_path, class: "btn btn-outline-light" %>
      </div>

    <% end %>

  </div>
</div>
