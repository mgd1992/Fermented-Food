<div class="container my-5">
  <div class="row justify-content-center">
    <div class="col-12 col-md-10 col-lg-8 col-xl-6">

      <div class="card surface-card shadow-sm">
        <div class="card-body">

          <% if @ferment.errors.any? %>
            <div class="alert alert-danger">
              <p class="fw-semibold mb-2">
                No se pudo crear el fermento:
              </p>
              <ul class="mb-0">
                <% @ferment.errors.full_messages.each do |msg| %>
                  <li><%= msg %></li>
                <% end %>
              </ul>
            </div>
          <% end %>

          <%= form_with(model: @ferment, local: true) do |form| %>

            <!-- T√≠tulo -->
            <h2 class="text-center mb-4 fw-semibold">
              Nuevo fermento
            </h2>

            <!-- ü´ò QU√â ES -->
            <div class="mb-4">
              <p class="text-uppercase text-muted small fw-semibold mb-3">
                ¬øQu√© est√°s fermentando?
              </p>

              <div class="mb-3">
                <%= form.label :name, "Nombre del fermento", class: "form-label" %>
                <%= form.text_field :name,
                      class: "form-control form-control-lg",
                      placeholder: "Ej: Kimchi cl√°sico, Kombucha de jengibre" %>
                <div class="form-text">
                  Us√° un nombre claro para identificarlo despu√©s.
                </div>
              </div>

              <div class="mb-3">
                <%= form.label :description, "Descripci√≥n breve (opcional)", class: "form-label" %>
                <%= form.text_area :description,
                      rows: 2,
                      class: "form-control",
                      placeholder: "Ej: fermento cl√°sico de col con sal" %>
              </div>

              <div class="mb-3">
                <%= form.label :ingredients, "Ingredientes", class: "form-label" %>
                <%= form.text_area :ingredients,
                      rows: 3,
                      class: "form-control",
                      placeholder: "Ej: repollo, sal, ajo, jengibre" %>
                <div class="form-text">
                  Listalos separados por comas.
                </div>
              </div>
            </div>

            <!-- üß™ C√ìMO SE HACE -->
            <div class="mb-4">
              <p class="text-uppercase text-muted small fw-semibold mb-3">
                ¬øC√≥mo se prepara?
              </p>

              <div class="mb-3">
                <%= form.label :instructions, "Pasos de preparaci√≥n", class: "form-label" %>
                <%= form.text_area :instructions,
                      rows: 4,
                      class: "form-control",
                      placeholder: "Ej: cortar, salar, masajear, fermentar en frasco" %>
                <div class="form-text">
                  Escrib√≠ los pasos de forma simple.
                </div>
              </div>
            </div>

            <!-- ‚è±Ô∏è TIEMPOS -->
            <div class="mb-4">
              <p class="text-uppercase text-muted small fw-semibold mb-3">
                Tiempos y seguimiento
              </p>

              <div class="mb-3">
                <%= form.label :fermentation_time, "Duraci√≥n estimada", class: "form-label" %>
                <%= form.text_field :fermentation_time,
                      class: "form-control",
                      placeholder: "Ej: 7 d√≠as, 2 semanas" %>
                <div class="form-text">
                  Solo una referencia aproximada.
                </div>
              </div>

              <div class="mb-3">
                <%= form.label :start_date, "üìÖ Fecha de inicio", class: "form-label" %>
                <%= form.text_field :start_date,
                      class: "form-control",
                      data: { controller: "datepicker" } %>
                <div class="form-text">
                  D√≠a en que comenzaste el fermento.
                </div>
              </div>

              <div class="mb-3">
                <%= form.label :revisar_fermentos, "Cada cu√°ntos d√≠as quer√©s revisarlo", class: "form-label" %>
                <%= form.number_field :revisar_fermentos,
                      min: 1,
                      class: "form-control",
                      placeholder: "Ej: 3" %>
                <div class="form-text">
                  Se usar√° para recordarte cu√°ndo revisarlo por primera vez.
                </div>
              </div>
            </div>

            <!-- üì∏ FOTOS -->
            <div class="mb-4">
              <p class="text-uppercase text-muted small fw-semibold mb-3">
                Fotos (opcional)
              </p>

              <%= form.file_field :photos,
                    multiple: true,
                    class: "form-control" %>

              <div class="form-text">
                Pod√©s subir fotos del proceso o del resultado final.
              </div>
            </div>

            <!-- ACCIONES -->
            <div class="d-grid gap-2 mt-4">
              <%= form.submit "Crear fermento", class: "btn btn-primary btn-lg" %>
              <%= link_to "Cancelar", ferments_path, class: "btn btn-outline-secondary btn-lg" %>
            </div>

          <% end %>

        </div>
      </div>

    </div>
  </div>
</div>
